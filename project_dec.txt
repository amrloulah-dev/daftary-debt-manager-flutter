
  Directory Structure (Tree View)

    1 lib/
    2 ├── custom_widgets/
    3 │   ├── custom_widgets.dart
    4 │   ├── quick_action_button.dart
    5 │   ├── stat_card.dart
    6 │   └── transaction_tile.dart
    7 ├── firestore_services/
    8 │   ├── auth_service.dart
    9 │   ├── debtor_services.dart
   10 │   ├── debts_services.dart
   11 │   └── payment_services.dart
   12 ├── l10n/
   13 │   ├── app_ar.arb
   14 │   ├── app_en.arb
   15 │   ├── app_localizations.dart
   16 │   ├── app_localizations_ar.dart
   17 │   └── app_localizations_en.dart
   18 ├── models/
   19 │   ├── debtor_model.dart
   20 │   ├── debts_model.dart
   21 │   └── payment_model.dart
   22 ├── providers/
   23 │   ├── debtor_provider.dart
   24 │   ├── debts_provider.dart
   25 │   ├── locale_provider.dart
   26 │   ├── payment_provider.dart
   27 │   └── theme_provider.dart
   28 ├── screens/
   29 │   ├── add_edit_debt_screen.dart
   30 │   ├── add_edit_debtor_screen.dart
   31 │   ├── add_edit_payment_screen.dart
   32 │   ├── auth_screen.dart
   33 │   ├── auth_wrapper.dart
   34 │   ├── dashboard_page.dart
   35 │   ├── debt_details_screen.dart
   36 │   ├── debtor_details_screen.dart
   37 │   ├── debtors_list_screen.dart
   38 │   ├── settings_screen.dart
   39 │   └── statistics_screen.dart
   40 ├── themes/
   41 │   └── theme.dart
   42 ├── firebase_options.dart
   43 └── main.dart

  File Descriptions

  Root Directory
  lib/firebase_options.dart
  Contains the auto-generated Firebase configuration options (DefaultFirebaseOptions) for different platforms (Android, iOS) to initialize the
  Firebase app connection.

  lib/main.dart
  The entry point of the Flutter application. It initializes Firebase, configures providers (LocaleProvider, ThemeProvider), sets up the MaterialApp
  with localization and theming, and defines the home route as AuthWrapper.

  Custom Widgets
  lib/custom_widgets/custom_widgets.dart
  A collection of reusable UI components used throughout the app, including FinancialAmount for displaying currency, CustomCard, StatisticCard,
  CustomButton, search bars, empty states, and standard loading widgets.

  lib/custom_widgets/quick_action_button.dart
  Defines QuickActionButton, a widget that displays a circular icon button with a label below it, used for main actions like adding debtors or       
  payments in the dashboard.

  lib/custom_widgets/stat_card.dart
  Defines StatCard, a stylized container widget displaying a statistic with a title, value, icon, and specific color, used in dashboard grids.

  lib/custom_widgets/transaction_tile.dart
  Defines TransactionTile, a ListTile wrapper customized to display transaction details (debtor name, amount, date) with a colored leading icon and
  trailing amount.

  Firestore Services
  lib/firestore_services/auth_service.dart
  Handles Firebase Authentication operations, specifically providing methods for Google Sign-In (signInWithGoogle) and signing out (signOut).

  lib/firestore_services/debtor_services.dart
  A comprehensive service layer for managing debtors in Firestore. It includes advanced features like caching (EnhancedCacheManager, LRUCache), retry
  mechanisms, circuit breakers, offline support, and CRUD operations for debtor documents.

  lib/firestore_services/debts_services.dart
  Manages debt-related operations in Firestore. It includes validation logic, caching (DebtsDebtorCache), error handling, and functions for adding,  
  updating, fetching, and deleting individual or multiple debt transactions.

  lib/firestore_services/payment_services.dart
  Handles payment transactions in Firestore. It implements rate limiting, background caching, validation, and CRUD operations for payments, including
  support for partial payments and scheduled payments.

  Localization (L10n)
  lib/l10n/app_ar.arb
  The Arabic localization resource file containing key-value pairs for all application strings translated into Arabic.

  lib/l10n/app_en.arb
  The English localization resource file containing key-value pairs for all application strings in English.

  lib/l10n/app_localizations.dart
  Auto-generated abstract base class for application localizations. It defines the interface for accessing localized strings and sets up the
  LocalizationsDelegate.

  lib/l10n/app_localizations_ar.dart
  Auto-generated implementation of AppLocalizations for the Arabic locale, providing the specific translated strings defined in app_ar.arb.

  lib/l10n/app_localizations_en.dart
  Auto-generated implementation of AppLocalizations for the English locale, providing the specific translated strings defined in app_en.arb.

  Models
  lib/models/debtor_model.dart
  Defines the Debtor data model representing a customer entity, including fields for ID, name, contact info, financial totals (borrowed, paid, debt),
  and helper classes for statistics and filtering.

  lib/models/debts_model.dart
  Defines data models for debts, including DebtItem (individual items within a debt) and DebtTransaction (the debt record itself), along with
  validation and utility classes.

  lib/models/payment_model.dart
  Defines the PaymentTransaction model representing a payment record, including amount, date, method, and status. It also includes response models
  like ApiResponse and PaginatedResponse.

  Providers
  lib/providers/debtor_provider.dart
  A provider class that acts as an interface between the UI and debtor_services.dart. It manages caching strategies (multi-level cache) and exposes
  methods for adding, updating, searching, and retrieving debtor statistics.

  lib/providers/debts_provider.dart
  A provider class for managing debt logic. It wraps Firestore transactions for adding/updating debts, manages a local DebtsCache, and handles
  calculating debt statistics and updating debtor totals.

  lib/providers/locale_provider.dart
  A ChangeNotifier that manages the application's current locale (language). It persists the user's language preference using SharedPreferences and
  allows switching between supported locales.

  lib/providers/payment_provider.dart
  A provider class for payment operations. It handles adding/updating payments via transactions, updates debtor balances automatically, manages a
  PaymentCache to reduce reads, and provides payment statistics.

  lib/providers/theme_provider.dart
  A ChangeNotifier that manages the application's visual theme (Light, Dark, or System). It persists the theme preference using SharedPreferences.   

  Screens
  lib/screens/add_edit_debt_screen.dart
  A form screen for creating or editing a debt record for a specific debtor. It validates input, handles saving to Firestore via DebtProvider, and
  allows deleting existing debts.

  lib/screens/add_edit_debtor_screen.dart
  A form screen for creating or editing a debtor's profile. It includes fields for name, phone, email, and notes, and handles validation and
  persistence via DebtorProvider.

  lib/screens/add_edit_payment_screen.dart
  A form screen for recording or editing a payment. It allows selecting the amount, date, and payment method, and updates the debtor's balance upon
  saving via PaymentProvider.

  lib/screens/auth_screen.dart
  The login screen displaying the app logo, title, and a Google Sign-In button. It handles the authentication flow using AuthService and displays
  error messages if sign-in fails.

  lib/screens/auth_wrapper.dart
  A widget that listens to the Firebase Authentication state stream. It directs the user to either the DashboardPage (if logged in) or the AuthScreen
  (if logged out).

  lib/screens/dashboard_page.dart
  The main landing page after login. It sets up the bottom navigation bar and displays high-level statistics, quick action buttons, and a list of
  recent transactions.

  lib/screens/debt_details_screen.dart
  Displays detailed information about a specific debt transaction, including the total amount, description/notes, date, and payment status.

  lib/screens/debtor_details_screen.dart
  A detailed view for a single debtor. It uses a tabbed layout to show the debtor's history of debts, payments, and a financial summary with charts.

  lib/screens/debtors_list_screen.dart
  Displays a paginated and searchable list of all debtors. It supports filtering and sorting (by name, debt amount, etc.) and allows navigation to
  debtor details.

  lib/screens/settings_screen.dart
  A settings configuration screen allowing users to toggle the theme (dark/light mode), change the app language, view their profile info, and sign
  out.

  lib/screens/statistics_screen.dart
  A dedicated screen for visualizing global application data. It displays key performance indicators (KPIs) like total outstanding debt and payment  
  rates, along with charts (e.g., pie charts) for data distribution.

  Themes
  lib/themes/theme.dart
  Defines the AppThemes class, which contains the application's light and dark ThemeData, color schemes, custom financial colors (e.g., for
  debts/payments), and text styles using Google Fonts.